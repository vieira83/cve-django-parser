import os
import xml.etree.ElementTree as ET

dir = os.path.dirname(__file__) #<-- absolute dir the script is in
rel_path = "xml/nvdcve-2.0.xml"
xml_file_path = os.path.join(dir, rel_path)

tree = ET.parse(xml_file_path)
root = tree.getroot()

def parse_xml_entries():
    entries = []
    for entry in root.findall('{http://scap.nist.gov/schema/feed/vulnerability/2.0}entry'):
        id = entry.get('id').lower()
        summary = entry.find('{http://scap.nist.gov/schema/vulnerability/0.4}summary').text
        entries.append({'id': id, 'summary': summary})
        print id, summary
    return entries

def db_store_entries():
    entries = parse_xml_entries()

    print entries