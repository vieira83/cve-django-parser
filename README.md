# CVE Django Parser
Django xml parser takes an xml feed it extract, transform  and load cves data to a postgres database.
The CVE Dara is rendered using highcharts to show the number of modified cves per Day.
To Run the ETL:
    ./manage.py cve_xml_transformer

## BACKEND

### virtualenv
    Use virtual environment for the project:

    $ cd cve-django-parser

    $ source cve-env/bin/activate

### Install requirements
    pip install -r requirements.txt

### Setup PostgreSQL with Django:
    https://www.digitalocean.com/community/tutorials/how-to-use-postgresql-with-your-django-application-on-ubuntu-14-04
    http://www.marinamele.com/taskbuster-django-tutorial/install-and-configure-posgresql-for-django

    1. Download and Install Postgres.app

    Mac :
        * Download the free Postgres.app: http://postgresapp.com/ or brew install postgresql
        * run: $ pg_config
        * If you get an error, you will need to first find the path:$ sudo find / -name pg_config
        * Then add it to the $PATH, to your .bash_profile file: export PATH=/Library/PostgreSQL/9.6/bin:$PATH

    Linux:
        Run the Following command :
        $ sudo apt-get install postgresql postgresql-contrib



    2. Create database:
        * Launch the Postgres console: #psql
        * Create a user with:  _CREATE USER_ name; (very important use the semicolon):
        * You should get _CREATE ROLE_ response from the Terminal.
        * Create a database for your Django project: # _CREATE DATABASE_ cvedjango OWNER name;

    3. Update Django settings
        DATABASES = {
        'default': {
            'ENGINE': 'django.db.backends.postgresql_psycopg2',
            'NAME': 'cvedjango',
            'USER': 'name', (change to the user created)
            'PASSWORD': '',
            'HOST': 'localhost',
            'PORT': '',
        }
    }

    4. Install psycopg2 (Needed for Python to talk to PostgreSQL):
       pip install psycopg2

    5. Run migrations and create a superuser
        To use the postgres  database created in your django project, you need to apply all the migrations.
            $ python manage.py migrate
        Also add a Superuser: $ python manage.py createsuperuser --username name (change to the user created)




